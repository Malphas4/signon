<% content_for :title, "Account access log" %>
<% content_for :breadcrumbs,
   render("govuk_publishing_components/components/breadcrumbs", {
     collapse_on_mobile: true,
     breadcrumbs: [
       {
         title: "Home",
         url: root_path,
       },
       {
         title: "Users",
         url: users_path,
       },
       {
         title: @user.name,
         url: edit_user_path_by_user_type(@user)
       },
       {
         title: "Account access log",
       },
     ]
   })
%>

<% if @logs.any? %>
  <%= render "govuk_publishing_components/components/table", {
    caption: pluralize(number_with_delimiter(@logs.total_count), 'event'),
    caption_classes: "govuk-heading-m",
    head: [
      { text: "Time" },
      { text: "Event" },
    ],
    rows: @logs.map do |log|
    [ { text: formatted_date(log) },
      { text: formatted_message(log) } ]
    end
  } %>
<% else %>
  <%= render "govuk_publishing_components/components/notice", {
    title: "No activity logged"
  } %>
<% end %>
